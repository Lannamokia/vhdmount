<Window x:Class="VHDMounter.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="VHD Mounter"
        WindowState="Maximized"
        WindowStyle="None"
        Topmost="True"
        Background="White"
        KeyDown="Window_KeyDown">
    
    <Grid>
        <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,0,0,-200">
            <!-- 状态显示 -->
            <TextBlock x:Name="StatusText" 
                       Text="正在初始化..."
                       FontSize="24"
                       FontWeight="Bold"
                       HorizontalAlignment="Center"
                       Margin="0,0,0,30"
                       Foreground="Black"/>
            
            <!-- VHD选择器 -->
            <StackPanel x:Name="VHDSelector" Visibility="Collapsed">
                <TextBlock Text="发现多个VHD文件，请选择一个:"
                           FontSize="18"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,20"
                           Foreground="Black"/>
                
                <ListBox x:Name="VHDListBox"
                         Width="600"
                         Height="300"
                         FontSize="14"
                         SelectionMode="Single"
                         Background="#F0F0F0"
                         BorderBrush="#CCCCCC"
                         BorderThickness="1">
                    <ListBox.ItemTemplate>
                        <DataTemplate>
                            <TextBlock Text="{Binding}" Padding="10,5" Foreground="Black"/>
                        </DataTemplate>
                    </ListBox.ItemTemplate>
                </ListBox>
                
                <TextBlock Text="使用上下键选择，回车确认"
                           FontSize="14"
                           HorizontalAlignment="Center"
                           Margin="0,10,0,0"
                           Foreground="Gray"/>
            </StackPanel>
            
            <!-- 进度指示器 -->
            <ProgressBar x:Name="ProgressBar"
                         Width="400"
                         Height="20"
                         Margin="0,30,0,0"
                         IsIndeterminate="True"
                         Visibility="Visible"/>
        </StackPanel>
        
        <!-- 关闭按钮 -->
        <Button x:Name="CloseButton"
                Content="×"
                Width="40"
                Height="40"
                FontSize="24"
                FontWeight="Bold"
                HorizontalAlignment="Right"
                VerticalAlignment="Top"
                Margin="0,10,10,0"
                Background="Transparent"
                BorderBrush="Gray"
                BorderThickness="1"
                Foreground="Gray"
                Click="CloseButton_Click"
                Cursor="Hand"/>
    </Grid>
</Window>